(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d610011c"],{"0ed2":function(e,t,a){"use strict";a("d6c2")},a264:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"container-card",attrs:{shadow:"always"}},[[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"分组内成员",name:"first"}},[e.infoRoles?a("div",{staticClass:"role-header"},[a("div",{staticClass:"header-name"},[a("span",{staticClass:"name-des"},[e._v("分组名：")]),a("span",[e._v(e._s(e.infoRoles.groupName))])]),a("div",{staticClass:"header-name"},[a("span",{staticClass:"name-des"},[e._v("分组描述：")]),a("span",[e._v(e._s(e.infoRoles.groupRemark))])]),a("div",{staticClass:"header-name header-search"},[a("el-input",{attrs:{clearable:"",placeholder:"用户名"},on:{input:function(t){return e.onInput(t)}},model:{value:e.transParams.nickname,callback:function(t){e.$set(e.transParams,"nickname","string"===typeof t?t.trim():t)},expression:"transParams.nickname"}}),a("el-button",{staticClass:"search-btn",attrs:{loading:e.loading,icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v("查询")]),a("el-button",{staticClass:"search-btn",attrs:{disabled:0===e.multipleSelection.length,loading:e.loading,icon:"el-icon-delete",type:"danger"},on:{click:e.batchDelete}},[e._v("移除")])],1)]):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{align:"center",prop:"nickName",label:"用户名"}}),a("el-table-column",{attrs:{align:"center",prop:"jobNumber",label:"工号"}}),a("el-table-column",{attrs:{align:"center",prop:"mobile",label:"手机号"}}),a("el-table-column",{attrs:{align:"center",prop:"mail",label:"邮箱"}}),a("el-table-column",{attrs:{align:"center",prop:"introduction",label:"介绍"}})],1)],1),a("el-tab-pane",{attrs:{label:"分组外成员",name:"second"}},[e.infoRoles?a("div",{staticClass:"role-header"},[a("div",{staticClass:"header-name"},[a("span",{staticClass:"name-des"},[e._v("分组名：")]),a("span",[e._v(e._s(e.infoRoles.groupName))])]),a("div",{staticClass:"header-name"},[a("span",{staticClass:"name-des"},[e._v("分组描述：")]),a("span",[e._v(e._s(e.infoRoles.groupRemark))])]),a("div",{staticClass:"header-name header-search"},[a("el-input",{attrs:{clearable:"",placeholder:"用户名"},on:{input:function(t){return e.onInput(t)}},model:{value:e.transParams.nickname,callback:function(t){e.$set(e.transParams,"nickname","string"===typeof t?t.trim():t)},expression:"transParams.nickname"}}),a("el-button",{staticClass:"search-btn",attrs:{loading:e.loading,icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v("查询")]),a("el-button",{staticClass:"search-btn",attrs:{disabled:0===e.multipleSelection.length,loading:e.loading,icon:"el-icon-edit",type:"primary"},on:{click:e.batchAdd}},[e._v("添加")])],1)]):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{align:"center",prop:"nickName",label:"用户名"}}),a("el-table-column",{attrs:{align:"center",prop:"jobNumber",label:"工号"}}),a("el-table-column",{attrs:{align:"center",prop:"mobile",label:"手机号"}}),a("el-table-column",{attrs:{align:"center",prop:"mail",label:"邮箱"}}),a("el-table-column",{attrs:{align:"center",prop:"introduction",label:"介绍"}})],1)],1)],1)]],2)],1)},r=[],s=a("1da1"),i=(a("d3b7"),a("159b"),a("a9e3"),a("96cf"),a("e501")),l={name:"Group",filters:{methodTagFilter:function(e){return"GET"===e?"":"POST"===e?"success":"info"}},data:function(){return{size:"",infoRoles:null,activeName:"first",tableData:[],loading:!1,transParams:{groupId:"",nickname:""},tabIndex:"",multipleSelection:[]}},created:function(){var e=this.$route,t=e.query;this.transParams.groupId=t.ID,this.getTableData()},methods:{handleClick:function(e,t){0===e.index?(this.transParams.nickname="",this.tabIndex=e.index,this.getTableData()):(this.transParams.nickname="",this.tabIndex=e.index,this.getNoMenu())},onInput:function(e){0===this.tabIndex?(this.transParams.nickname=e,this.getTableData()):(this.transParams.nickname=e,this.getNoMenu())},search:function(){0===this.tabIndex?this.getTableData():this.getNoMenu()},getTableData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(i["g"])(e.transParams);case 4:a=t.sent,n=a.data,e.infoRoles=n,e.tableData=n.userList;case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[1,,8,11]])})))()},getNoMenu:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["h"])(e.transParams);case 3:a=t.sent,n=a.data,e.infoRoles=n,e.tableData=n.userList;case 7:return t.prev=7,e.loading=!1,t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[0,,7,10]])})))()},handleSelectionChange:function(e){this.multipleSelection=e},batchDelete:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.multipleSelection.forEach((function(e){a.push(e.userId)})),e.loading=!0,n="",t.prev=4,t.next=7,Object(i["a"])({groupId:Number(e.transParams.groupId),userIds:a});case 7:r=t.sent,s=r.msg,n=s;case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:setTimeout((function(){window.location.reload()}),500),e.$message({showClose:!0,message:n,type:"success"});case 15:case"end":return t.stop()}}),t,null,[[4,,10,13]])})))()},batchAdd:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.multipleSelection.forEach((function(e){a.push(e.userId)})),e.loading=!0,n="",t.prev=4,t.next=7,Object(i["e"])({groupId:Number(e.transParams.groupId),userIds:a});case 7:r=t.sent,s=r.msg,n=s;case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:setTimeout((function(){window.location.reload()}),500),e.$message({showClose:!0,message:n,type:"success"});case 15:case"end":return t.stop()}}),t,null,[[4,,10,13]])})))()}}},o=l,c=(a("0ed2"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,"2b5cd668",null);t["default"]=u.exports},d6c2:function(e,t,a){},e501:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a("b775");function r(e){return Object(n["a"])({url:"/api/group/tree",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/api/group/add",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/api/group/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/api/group/delete",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/api/group/useringroup",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/api/group/usernoingroup",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/api/group/adduser",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/api/group/removeuser",method:"post",data:e})}}}]);